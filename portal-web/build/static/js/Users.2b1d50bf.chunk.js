(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[5],{273:function(e,a,t){e.exports={DeviceButton:"Device_DeviceButton__iQ2Bt",formControl:"Device_formControl__3Kxid",textControl:"Device_textControl__3rWYS",settingsDropdown:"Device_settingsDropdown__3ap3y"}},301:function(e,a,t){e.exports={userDetailsModal:"Users_userDetailsModal__3M6up",formControl:"Users_formControl__3_HOL",userSettingsSelect:"Users_userSettingsSelect__2x_xq",userDetailsSectionTitles:"Users_userDetailsSectionTitles__3Tv1e",textControl:"Users_textControl__VwzO_",settingsDropdown:"Users_settingsDropdown__2aORN"}},309:function(e,a,t){e.exports={pageSizeDropdown:"Numbers_pageSizeDropdown__16jbC"}},335:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(271),i=t(35),c=t(27),s=t(267),o=t(140),u=t(104),d=t.n(u),m=t(103),b=t(192),p=t(24),g=t(293),E=t(330),f=t(342),v=t(334),j=t(39),h=t.n(j),O=t(40),x=t(99),C=[{key:"id",label:"ID"},{key:"macAddress",label:"Address"},{key:"registrationExpiry",label:"Registration Expires In",render:function(e){if(Object(v.a)(e))return"";var a=new Date,t=Object(g.a)(e);return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(h.a,{path:Object(E.a)(a,t)?O.l:O.k,size:.8,horizontal:!0,vertical:!0,rotate:180}),Object(E.a)(a,t)?"Expired":Object(x.c)(Object(f.a)(t,a)))}}],y=t(341),D=t(329),I=t(326),N=t(327),k=t(70),P=t(194),S=t(300),w=t(288),_=t(325),L=t(328),M=t(257),U=t(331),$=t(332),W=t(299);function F(){var e=Object(s.a)(["\n  mutation UpdateDevice($id: ID, $device: updateDevice!) {\n    updateDevice(id: $id, device: $device) {\n      sipExtension\n      description\n      location\n      enabled\n      password\n    }\n  }\n"]);return F=function(){return e},e}function T(){var e=Object(s.a)(["\n  mutation CreateDevice($device: createDevice!) {\n    createDevice(device: $device) {\n      sipExtension\n      description\n      location\n      enabled\n    }\n  }\n"]);return T=function(){return e},e}function B(){var e=Object(s.a)(["\n  query device($id: ID) {\n    device(id: $id) {\n      id\n      sipExtension\n      description\n      location\n      enabled\n    }\n  }\n"]);return B=function(){return e},e}var A=Object(m.b)(B()),V=Object(m.b)(T()),G=Object(m.b)(F()),R=t(273),q=t.n(R),z={sipExtension:"",description:"",location:"",enabled:!0},J=function(e){var a=e.refreshData,t=Object(n.useState)(z),l=Object(c.a)(t,2),s=l[0],u=l[1],d=Object(n.useState)(!1),m=Object(c.a)(d,2),b=m[0],p=m[1],g=Object(o.b)(V,{onCompleted:function(){a()}}),E=Object(c.a)(g,2),f=E[0],v=E[1],j=v.loading,h=v.error,O=v.data,x=function(e){"checkbox"===e.target.type&&u(Object(k.a)(Object(k.a)({},s),{},Object(i.a)({},e.target.name,e.target.checked))),"text"===e.target.type&&u(Object(k.a)(Object(k.a)({},s),{},Object(i.a)({},e.target.name,""!==e.target.value?e.target.value:null)))},C=!Object(P.a)(O)||j;return r.a.createElement("div",{style:{minWidth:"300px"}},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},h&&r.a.createElement("p",null,"Error :( Please try again"),r.a.createElement(W.a,null,r.a.createElement(S.a,{margin:"normal",className:q.a.formControl},r.a.createElement(w.a,{disabled:null===s.sipExtension||C,id:"standard-basic",name:"sipExtension",label:"Address",onChange:x,InputLabelProps:{shrink:!0},InputProps:{className:q.a.textControl}})),r.a.createElement(S.a,{margin:"normal",className:q.a.formControl},r.a.createElement(_.a,{control:r.a.createElement(M.a,{checked:b,onChange:function(e){p(e.target.checked),u(b?Object(k.a)(Object(k.a)({},s),{},{sipExtension:""}):Object(k.a)(Object(k.a)({},s),{},{sipExtension:null}))},name:"System Generated"}),disabled:C,label:"System generated"})),r.a.createElement(S.a,{margin:"normal",className:q.a.formControl},r.a.createElement(w.a,{id:"standard-basic",name:"location",label:"Location",onChange:x,InputLabelProps:{shrink:!0},InputProps:{className:q.a.textControl},disabled:C})),r.a.createElement(S.a,{margin:"normal",className:q.a.formControl},r.a.createElement(w.a,{id:"standard-basic",name:"description",label:"Description",onChange:x,InputLabelProps:{shrink:!0},InputProps:{className:q.a.textControl},disabled:C})),r.a.createElement(S.a,{margin:"normal"},r.a.createElement(U.a,{checked:s.enabled,onChange:x,color:"primary",name:"enabled",disabled:C,inputProps:{"aria-label":"primary checkbox"}})),Object(P.a)(O)&&r.a.createElement($.a,{color:"primary",variant:"contained",onClick:function(){f({variables:{device:Object(k.a)({},s)}})},disabled:C,className:q.a.DeviceButton},j?"Creating":"Create"),!Object(P.a)(O)&&"Created the device successfully",h&&r.a.createElement(S.a,{margin:"normal"},r.a.createElement(L.a,{error:!0},"Error creating a device:".concat(h.message)))," ")))},Y=function(e){var a=e.closeDialog,t=e.refreshData;return r.a.createElement(b.a,null,r.a.createElement(y.a,{open:!0,onClose:a,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md"},r.a.createElement(p.h,{title:"Create a new Device",closeDialog:a}),r.a.createElement(I.a,null,r.a.createElement(N.a,{id:"alert-dialog-slide-description"},r.a.createElement(J,{refreshData:t}))),r.a.createElement(D.a,null)))},H=t(253),K=t(261),Q=t(259),X=t(302),Z=t(107),ee={sipExtension:"",description:"",location:"",enabled:!0},ae=function(e){var a=e.id,t=Object(o.c)(A,{variables:{id:a}}),l=t.loading,s=t.data,u=t.refetch,d=Object(n.useState)(ee),m=Object(c.a)(d,2),b=m[0],p=m[1],g=Object(n.useState)(!1),E=Object(c.a)(g,2),f=E[0],v=E[1],j=Object(o.b)(G,{onCompleted:function(){u()}}),h=Object(c.a)(j,2),O=h[0],x=h[1],C=x.loading,y=x.data;Object(n.useEffect)((function(){p({sipExtension:Object(Q.a)("",["device","sipExtension"],s),description:Object(Q.a)(null,["device","description"],s),location:Object(Q.a)(null,["device","location"],s),enabled:Object(Q.a)(!0,["device","enabled"],s)})}),[s]);if(l)return r.a.createElement(Z.a,null);var D=function(e){"checkbox"===e.target.type&&p(Object(k.a)(Object(k.a)({},b),{},Object(i.a)({},e.target.name,e.target.checked))),"text"===e.target.type&&p(Object(k.a)(Object(k.a)({},b),{},Object(i.a)({},e.target.name,""===e.target.value?null:e.target.value)))},I=b.sipExtension,N=b.location,w=b.description,L=b.enabled,F=!Object(P.a)(y)||C;return r.a.createElement("div",{style:{minWidth:"350px"}},r.a.createElement(X.ValidatorForm,{onSubmit:function(){O({variables:{id:a,device:Object(k.a)({},b)}}).catch((function(){}))},autoComplete:"off"},r.a.createElement(W.a,null,r.a.createElement(W.a,null,r.a.createElement("p",null,"Device ID: ",a)),r.a.createElement(S.a,{margin:"normal"},r.a.createElement(X.TextValidator,{InputLabelProps:{shrink:!0},class:"standard-basic",name:"sipExtension",label:"Address",onChange:D,value:I,disabled:F,InputProps:{className:q.a.textControl},validators:["required","minNumber:12000","maxNumber:17999","isNumber"],errorMessages:["This field is required.","Number must be above 12000.","Number must be below 17999.","Must contain only numerical characters."]})),r.a.createElement(S.a,{margin:"normal"},r.a.createElement(X.TextValidator,{InputLabelProps:{shrink:!0},class:"standard-basic",name:"location",label:"Location",onChange:D,value:N,disabled:F,InputProps:{className:q.a.textControl}})),r.a.createElement(S.a,{margin:"normal"},r.a.createElement(X.TextValidator,{InputLabelProps:{shrink:!0},class:"standard-basic",name:"description",label:"Description",onChange:D,value:w,disabled:F,InputProps:{className:q.a.textControl}})),r.a.createElement(_.a,{label:"enabled",control:r.a.createElement(U.a,{checked:L,onChange:D,color:"primary",name:"enabled",disabled:F,inputProps:{"aria-label":"primary checkbox"}})}),r.a.createElement(S.a,{margin:"normal"},r.a.createElement(_.a,{control:r.a.createElement(M.a,{value:f,onChange:function(e){v(e.target.checked),p(f?{sipExtension:b.sipExtension,description:b.description,location:b.location,enabled:b.enabled}:Object(k.a)(Object(k.a)({},b),{},{password:null}))},name:"System Generated password"}),label:"System generated password",disabled:F})),Object(P.a)(y)&&r.a.createElement($.a,{type:"submit",color:"primary",variant:"contained",disabled:F,className:q.a.DeviceButton},C?"Updating":"Update"),!Object(P.a)(y)&&"Updated the device successfully")))},te=function(e){var a={variables:{id:e.id}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Security Settings"),r.a.createElement("div",null,a))},ne=function(e){var a=e.closeDialog,t=e.id,n=r.a.useState("generalSettingsUpdate"),l=Object(c.a)(n,2),i=l[0],s=l[1];return r.a.createElement(b.a,null,r.a.createElement(y.a,{open:!0,onClose:a,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md"},r.a.createElement(p.h,{title:"View/Update Device",closeDialog:a}),r.a.createElement(I.a,null,r.a.createElement(N.a,{id:"alert-dialog-slide-description"},r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(H.a,{labelId:"device-text",id:"device-edit-Type",value:i,className:q.a.settingsDropdown,onChange:function(e){s(e.target.value)}},r.a.createElement(K.a,{value:"generalSettingsUpdate"},"General Settings"),r.a.createElement(K.a,{value:"securitySettings"},"Security Settings"))),{generalSettingsUpdate:r.a.createElement(ae,{id:t}),securitySettings:r.a.createElement(te,{id:t})}[i]))),r.a.createElement(D.a,null)))};function re(){var e=Object(s.a)(["\n  {\n    devices {\n      id\n      macAddress\n      registrationExpiry\n    }\n  }\n"]);return re=function(){return e},e}var le=Object(m.b)(re()),ie=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],s=a[1],u=Object(n.useState)(0),m=Object(c.a)(u,2),g=m[0],E=m[1],f=Object(n.useState)(100),v=Object(c.a)(f,2),j=v[0],h=v[1],O=Object(n.useState)(!1),x=Object(c.a)(O,2),y=x[0],D=x[1],I=Object(n.useState)({show:!1,id:""}),N=Object(c.a)(I,2),k=N[0],P=N[1],S=Object(o.c)(le),w=S.loading,_=S.error,L=S.data,M=S.refetch,U=L&&L.devices&&0!==L.devices.length?L.devices:[],$=U.slice(g*j,g*j+j),W=Object(i.a)({},p.b.ADDNEW,(function(){return D(!0)})),F=[100,150,200];return r.a.createElement(b.a,null,w&&r.a.createElement(p.f,{spinner:r.a.createElement(d.a,{name:"line-scale"})}),_&&r.a.createElement(p.c,{error:_.message,open:_&&!t,handleClose:function(){return s(!0)}}),!w&&!_&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{actionEvents:W},r.a.createElement(p.k,{rowsPerPageOptions:U&&0!==U.length?[].concat(F,Object(l.a)(U.length>200?[U.length]:[])):F,pagesCount:U.length,rowsPerPage:j,page:g,handleChangePage:function(e,a){E(a)},handleChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),E(0)}})),r.a.createElement(p.j,{objects:$,properties:C,handleRowClick:function(e){P({show:!0,id:e.id})},showCheckBoxColumn:!0}),y&&r.a.createElement(Y,{closeDialog:function(){return D(!1)},refreshData:function(){return M()}}),k.show&&r.a.createElement(ne,{id:k.id,closeDialog:function(){return P({show:!1,id:""})}})))},ce=r.a.memo((function(){return r.a.createElement(p.g,null,r.a.createElement(ie,null))}));a.default=ce},338:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(35),i=t(27),c=t(267),s=t(140),o=t(104),u=t.n(o),d=t(103),m=t(192),b=t(300),p=t(253),g=t(261),E=t(24),f=t(334),v=t(194),j=[{key:"label",label:"Label"},{key:"countryCode",label:"Country Code"},{key:"number",label:"Number"},{key:"userId",label:"DDI",render:function(e){return Object(f.a)(e)||Object(v.a)(e)?"No":"Yes"}}],h=t(309),O=t.n(h),x=t(341),C=function(e){var a=e.closeDialog;return r.a.createElement(m.a,null,r.a.createElement(x.a,{open:!0,onClose:a,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",fullWidth:!0,maxWidth:"md"}))},y=function(e){var a=e.closeDialog;return r.a.createElement(m.a,null,r.a.createElement(x.a,{open:!0,onClose:a,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",fullWidth:!0,maxWidth:"md"}))};function D(){var e=Object(c.a)(["\n  query numbers($index: Int, $length: Int) {\n    numbers(index: $index, length: $length) {\n      hasMore\n      firstIndex\n      lastIndex\n      prevIndex\n      nextIndex\n      count\n      numbers {\n        number\n        countryCode\n        areaCode\n        label\n      }\n    }\n  }\n"]);return D=function(){return e},e}var I=Object(d.b)(D()),N=[100,150,250,400],k=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!1),d=Object(i.a)(o,2),f=d[0],v=d[1],h=Object(n.useState)({show:!1,id:""}),x=Object(i.a)(h,2),D=x[0],k=x[1],P=Object(n.useState)(N[0]),S=Object(i.a)(P,2),w=S[0],_=S[1],L=Object(n.useState)(0),M=Object(i.a)(L,2),U=M[0],$=M[1],W=Object(s.a)(I,{variables:{index:U,length:w}}),F=Object(i.a)(W,2),T=F[0],B=F[1],A=B.called,V=B.loading,G=B.error,R=B.data;Object(n.useEffect)((function(){T()}),[]);var q=R&&R.numbers?R.numbers:{hasMore:!1,firstIndex:0,lastIndex:0,prevIndex:0,nextIndex:0,count:0,numbers:[]},z=q.count,J=q.hasMore,Y=q.firstIndex,H=q.lastIndex,K=q.prevIndex,Q=q.nextIndex,X=q.numbers,Z=function(e){return function(){$(e),T()}},ee=Object(l.a)({},E.b.ADDNEW,(function(){return v(!0)}));return r.a.createElement(m.a,null,A&&V&&r.a.createElement(E.f,{spinner:r.a.createElement(u.a,{name:"line-scale"})}),G&&r.a.createElement(E.c,{error:G.message,open:G&&!t,handleClose:function(){return c(!0)}}),!V&&!G&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{actionEvents:ee},r.a.createElement(E.i,{totalPagesCount:z,currentPage:U,hasMore:J,handlePrevPage:Z(K),handleNextPage:Z(Q),handleFirstPage:Z(Y),handleLastPage:Z(H),pageLoading:V,isFirstPage:0===U,isLastPage:U===H},r.a.createElement(b.a,null,r.a.createElement(p.a,{labelId:"page-select",id:"page-select-id",value:w,className:O.a.pageSizeDropdown,onChange:function(e){_(e.target.value),T()}},N.map((function(e){return r.a.createElement(g.a,{value:e},e)})))))),r.a.createElement(E.j,{objects:X,properties:j,handleRowClick:function(e){k({show:!0,id:e.id})},showCheckBoxColumn:!0}),f&&r.a.createElement(C,{closeDialog:function(){return v(!1)}}),D.show&&r.a.createElement(y,{closeDialog:function(){return k({show:!1,id:""})}})))},P=r.a.memo((function(){return r.a.createElement(E.g,null,r.a.createElement(k,null))}));a.default=P},339:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(271),i=t(27),c=t(267),s=t(140),o=t(104),u=t.n(o),d=t(103),m=t(192),b=t(24),p=[{key:"userId",label:"ID"},{key:"userName",label:"Login Name"},{key:"sipExtension",label:"Extension"},{key:"primaryMobileNumber",label:"Primary DDI"},{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"primaryMobileNumber",label:"Primary Mobile"},{key:"permissionLevel",label:"User Permissions"},{key:"enabled",label:"Status"},{key:"previousLogin",label:"Previous Login"}],g={userId:"ID",firstName:"First Name",lastName:"Last Name",primaryMobileNumber:"Primary Mobile",userName:"Login Name",enabled:"Status",sipExtension:"Extension",primaryDDI:"Primary DDI",permissionLevel:"User Permissions"},E=t(341),f=t(329),v=t(326),j=t(327),h=t(300),O=t(261),x=t(253),C=t(288),y=t(299),D=t(301),I=t.n(D);function N(){var e=Object(c.a)(["\n  query GetUserById($userId: ID!) {\n    user(id: $userId) {\n      userId\n      userName\n      firstName\n      lastName\n      sipExtension\n      permissionLevel\n      primaryMobileNumber\n    }\n  }\n"]);return N=function(){return e},e}var k=Object(d.b)(N()),P=function(e){var a=e.userId,t=e.showDialog,n=e.closeDialog,l=r.a.useState(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],d=Object(s.c)(k,{variables:{userId:a}}),p=d.loading,D=d.error,N=d.data;if(p)return r.a.createElement(b.f,null);if(D)return r.a.createElement(b.c,{error:D.message,open:D&&!o,handleClose:function(){return u(!0)}});var P=N&&N.user?N.user:{},S="".concat((P||{}).firstName||""," ").concat((P||{}).lastName||"");return r.a.createElement(m.a,null,r.a.createElement(E.a,{open:t,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:function(){return n()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(b.h,{title:S,closeDialog:n}),r.a.createElement(v.a,null,r.a.createElement(j.a,{id:"alert-dialog-slide-description"},r.a.createElement("div",{className:I.a.userDetailsModal},r.a.createElement(y.a,null,r.a.createElement("span",{className:I.a.userDetailsSectionTitles},"User ID: ".concat(P.userId||""," - ").concat(P.userName||"")),r.a.createElement(h.a,{className:I.a.userSettingsSelect},r.a.createElement(x.a,{labelId:"settings-select",id:"settings-select-id",value:"General",className:I.a.settingsDropdown,onChange:function(){return!1}},r.a.createElement(O.a,{value:"General"},"General"))),r.a.createElement("span",{className:I.a.userDetailsSectionTitles},"My Account"),r.a.createElement("div",{id:"details"},Object.keys(g).filter((function(e){return"userId"!==e})).map((function(e){return r.a.createElement(C.a,{id:e,label:g[e],defaultValue:P[e],margin:"normal",className:I.a.formControl,InputLabelProps:{shrink:!0},InputProps:{className:I.a.textControl}})}))),r.a.createElement("div",{id:"password"},r.a.createElement(C.a,{id:"newPin",label:"New Pin",margin:"normal",className:I.a.formControl,InputLabelProps:{shrink:!0},InputProps:{className:I.a.textControl}}),r.a.createElement(C.a,{id:"newPassword",label:"New Password",margin:"normal",className:I.a.formControl,InputLabelProps:{shrink:!0},InputProps:{className:I.a.textControl}})))))),r.a.createElement(f.a,null)))};function S(){var e=Object(c.a)(["\n  {\n    users {\n      userName\n      userId\n      firstName\n      lastName\n    }\n  }\n"]);return S=function(){return e},e}var w=Object(d.b)(S()),_=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(0),d=Object(i.a)(o,2),g=d[0],E=d[1],f=Object(n.useState)(100),v=Object(i.a)(f,2),j=v[0],h=v[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),C=x[0],y=x[1],D=Object(n.useState)(0),I=Object(i.a)(D,2),N=I[0],k=I[1],S=Object(s.c)(w),_=S.loading,L=S.error,M=S.data,U=M&&M.users&&0!==M.users.length?M.users:[],$=U.slice(g*j,g*j+j),W=[100,150,200];return r.a.createElement(m.a,null,_&&r.a.createElement(b.f,{spinner:r.a.createElement(u.a,{name:"line-scale"})}),L&&r.a.createElement(b.c,{error:L.message,open:L&&!t,handleClose:function(){return c(!0)}}),!_&&!L&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.k,{rowsPerPageOptions:U&&0!==U.length?[].concat(W,Object(l.a)(U.length>200?[U.length]:[])):W,pagesCount:U.length,rowsPerPage:j,page:g,handleChangePage:function(e,a){E(a)},handleChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),E(0)}})),r.a.createElement(b.j,{objects:$,properties:p,handleRowClick:function(e){y(!0),k(e.userId)},showCheckBoxColumn:!0}),C&&r.a.createElement(P,{userId:N,showDialog:C,closeDialog:function(){return y(!1)}})))},L=r.a.memo((function(){return r.a.createElement(b.g,null,r.a.createElement(_,null))}));a.default=L}}]);
//# sourceMappingURL=Users.2b1d50bf.chunk.js.map